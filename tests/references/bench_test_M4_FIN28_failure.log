INFO:pyaf.std:START_TRAINING 'FIN28'
loading  500 / 2000 FIN500
loading  1000 / 2000 FIN1000
loading  1500 / 2000 FIN1500
loading  2000 / 2000 FIN2000
BENCH_TYPE M4_COMP OneDataFramePerSignal
BENCH_DATA M4_COMP
TIME :  Date N= 9136 H= 328 HEAD= [0 1 2 3 4] TAIL= [9131 9132 9133 9134 9135]
SIGNAL :  FIN28 N= 9136 H= 328 HEAD= [ 1.0109  1.0102  1.0106  1.0148  1.0154] TAIL= [ 1.0976  1.1028  1.0976  1.0883  1.0854]
    FIN28  Date
0  1.0109     0
1  1.0102     1
2  1.0106     2
3  1.0148     3
4  1.0154     4
<class 'pandas.core.frame.DataFrame'>
Int64Index: 9136 entries, 0 to 9135
Data columns (total 2 columns):
FIN28    9136 non-null float64
Date     9136 non-null int64
dtypes: float64(1), int64(1)
memory usage: 214.1 KB
None
INFO:pyaf.std:END_TRAINING_TIME_IN_SECONDS 'FIN28' 20.70379877090454
INFO:pyaf.std:TIME_DETAIL TimeVariable='Date' TimeMin=0 TimeMax=7045 TimeDelta=1 Estimation = (0 , 7046) Validation = (7046 , 8808) Test = (8808 , 9136) Horizon=328
INFO:pyaf.std:SIGNAL_DETAIL SignalVariable='_FIN28' Min=0.9577 Max=1.6128  Mean=1.24652646673 StdDev=0.165690988015
INFO:pyaf.std:BEST_TRANSOFORMATION_TYPE '_'
INFO:pyaf.std:BEST_DECOMPOSITION  '_FIN28_Lag1Trend_residue_zeroCycle_residue_NoAR' [Lag1Trend + NoCycle + NoAR]
INFO:pyaf.std:TREND_DETAIL '_FIN28_Lag1Trend' [Lag1Trend]
INFO:pyaf.std:CYCLE_DETAIL '_FIN28_Lag1Trend_residue_zeroCycle' [NoCycle]
INFO:pyaf.std:AUTOREG_DETAIL '_FIN28_Lag1Trend_residue_zeroCycle_residue_NoAR' [NoAR]
INFO:pyaf.std:MODEL_MAPE MAPE_Fit=0.0018 MAPE_Forecast=0.0034 MAPE_Test=0.0032
INFO:pyaf.std:MODEL_MASE MASE_Fit=0.9999 MASE_Forecast=0.9996 MASE_Test=0.9996
INFO:pyaf.std:MODEL_L1 L1_Fit=0.00319648765871 L1_Forecast=0.0062220635576 L1_Test=0.00361493902439
INFO:pyaf.std:MODEL_L2 L2_Fit=0.00319648765871 L2_Forecast=0.0062220635576 L2_Test=0.00473146898759
INFO:pyaf.std:MODEL_COMPLEXITY 32
INFO:pyaf.std:AR_MODEL_DETAIL_START
INFO:pyaf.std:AR_MODEL_DETAIL_END
   Transformation                                              Model  \
0          _FIN28    _FIN28_Lag1Trend_residue_zeroCycle_residue_NoAR   
1    CumSum_FIN28  CumSum_FIN28_Lag1Trend_residue_zeroCycle_resid...   
2      Diff_FIN28  Diff_FIN28_Lag1Trend_residue_zeroCycle_residue...   
3   RelDiff_FIN28  RelDiff_FIN28_Lag1Trend_residue_zeroCycle_resi...   
4    CumSum_FIN28  CumSum_FIN28_Lag1Trend_residue_bestCycle_byL2_...   
5          _FIN28  _FIN28_Lag1Trend_residue_bestCycle_byL2_residu...   
6          _FIN28  _FIN28_Lag1Trend_residue_zeroCycle_residue_AR(64)   
7          _FIN28  _FIN28_Lag1Trend_residue_bestCycle_byL2_residu...   
8    CumSum_FIN28  CumSum_FIN28_ConstantTrend_residue_zeroCycle_r...   
9    CumSum_FIN28  CumSum_FIN28_LinearTrend_residue_zeroCycle_res...   
10   CumSum_FIN28  CumSum_FIN28_PolyTrend_residue_zeroCycle_resid...   
11   CumSum_FIN28  CumSum_FIN28_LinearTrend_residue_bestCycle_byL...   
12   CumSum_FIN28  CumSum_FIN28_Lag1Trend_residue_zeroCycle_resid...   
13   CumSum_FIN28  CumSum_FIN28_Lag1Trend_residue_bestCycle_byL2_...   
14   CumSum_FIN28  CumSum_FIN28_PolyTrend_residue_bestCycle_byL2_...   
15         _FIN28  _FIN28_ConstantTrend_residue_zeroCycle_residue...   
16         _FIN28  _FIN28_ConstantTrend_residue_bestCycle_byL2_re...   
17         _FIN28  _FIN28_LinearTrend_residue_zeroCycle_residue_A...   
18         _FIN28  _FIN28_LinearTrend_residue_bestCycle_byL2_resi...   
19         _FIN28  _FIN28_PolyTrend_residue_zeroCycle_residue_AR(64)   
20         _FIN28  _FIN28_PolyTrend_residue_bestCycle_byL2_residu...   
21   CumSum_FIN28  CumSum_FIN28_ConstantTrend_residue_bestCycle_b...   
22     Diff_FIN28  Diff_FIN28_Lag1Trend_residue_bestCycle_byL2_re...   
23     Diff_FIN28  Diff_FIN28_Lag1Trend_residue_bestCycle_byL2_re...   
24     Diff_FIN28  Diff_FIN28_Lag1Trend_residue_zeroCycle_residue...   
25         _FIN28  _FIN28_LinearTrend_residue_zeroCycle_residue_NoAR   
26         _FIN28  _FIN28_LinearTrend_residue_bestCycle_byL2_resi...   
27   CumSum_FIN28  CumSum_FIN28_PolyTrend_residue_zeroCycle_resid...   
28   CumSum_FIN28  CumSum_FIN28_PolyTrend_residue_bestCycle_byL2_...   
29         _FIN28    _FIN28_PolyTrend_residue_zeroCycle_residue_NoAR   
..            ...                                                ...   
34     Diff_FIN28  Diff_FIN28_ConstantTrend_residue_bestCycle_byL...   
35   CumSum_FIN28  CumSum_FIN28_LinearTrend_residue_zeroCycle_res...   
36         _FIN28  _FIN28_ConstantTrend_residue_zeroCycle_residue...   
37         _FIN28  _FIN28_ConstantTrend_residue_bestCycle_byL2_re...   
38     Diff_FIN28  Diff_FIN28_LinearTrend_residue_zeroCycle_resid...   
39     Diff_FIN28  Diff_FIN28_LinearTrend_residue_bestCycle_byL2_...   
40     Diff_FIN28  Diff_FIN28_LinearTrend_residue_zeroCycle_resid...   
41     Diff_FIN28  Diff_FIN28_LinearTrend_residue_bestCycle_byL2_...   
42   CumSum_FIN28  CumSum_FIN28_LinearTrend_residue_bestCycle_byL...   
43     Diff_FIN28  Diff_FIN28_PolyTrend_residue_zeroCycle_residue...   
44     Diff_FIN28  Diff_FIN28_PolyTrend_residue_bestCycle_byL2_re...   
45     Diff_FIN28  Diff_FIN28_PolyTrend_residue_zeroCycle_residue...   
46     Diff_FIN28  Diff_FIN28_PolyTrend_residue_bestCycle_byL2_re...   
47   CumSum_FIN28  CumSum_FIN28_ConstantTrend_residue_zeroCycle_r...   
48   CumSum_FIN28  CumSum_FIN28_ConstantTrend_residue_bestCycle_b...   
49  RelDiff_FIN28  RelDiff_FIN28_ConstantTrend_residue_zeroCycle_...   
50  RelDiff_FIN28  RelDiff_FIN28_ConstantTrend_residue_bestCycle_...   
51  RelDiff_FIN28  RelDiff_FIN28_ConstantTrend_residue_zeroCycle_...   
52  RelDiff_FIN28  RelDiff_FIN28_Lag1Trend_residue_zeroCycle_resi...   
53  RelDiff_FIN28  RelDiff_FIN28_PolyTrend_residue_bestCycle_byL2...   
54  RelDiff_FIN28  RelDiff_FIN28_PolyTrend_residue_bestCycle_byL2...   
55  RelDiff_FIN28  RelDiff_FIN28_Lag1Trend_residue_bestCycle_byL2...   
56  RelDiff_FIN28  RelDiff_FIN28_Lag1Trend_residue_bestCycle_byL2...   
57  RelDiff_FIN28  RelDiff_FIN28_LinearTrend_residue_zeroCycle_re...   
58  RelDiff_FIN28  RelDiff_FIN28_LinearTrend_residue_zeroCycle_re...   
59  RelDiff_FIN28  RelDiff_FIN28_LinearTrend_residue_bestCycle_by...   
60  RelDiff_FIN28  RelDiff_FIN28_LinearTrend_residue_bestCycle_by...   
61  RelDiff_FIN28  RelDiff_FIN28_PolyTrend_residue_zeroCycle_resi...   
62  RelDiff_FIN28  RelDiff_FIN28_ConstantTrend_residue_bestCycle_...   
63  RelDiff_FIN28  RelDiff_FIN28_PolyTrend_residue_zeroCycle_resi...   

    Complexity       FitMAPE  ForecastMAPE      TestMAPE  
0           32  1.800000e-03  3.400000e-03  3.200000e-03  
1           64  1.900000e-03  3.400000e-03  3.200000e-03  
2           64  1.800000e-03  3.400000e-03  3.200000e-03  
3           64  1.800000e-03  3.400000e-03  3.200000e-03  
4           72  2.100000e-03  3.400000e-03  3.200000e-03  
5           40  1.800000e-03  3.500000e-03  3.200000e-03  
6           96  1.800000e-03  3.500000e-03  3.200000e-03  
7          104  1.800000e-03  3.500000e-03  3.200000e-03  
8           96  2.300000e-03  4.000000e-03  3.800000e-03  
9          112  2.100000e-03  4.100000e-03  3.800000e-03  
10         112  2.100000e-03  4.100000e-03  3.900000e-03  
11         120  2.600000e-03  4.200000e-03  4.000000e-03  
12         128  2.400000e-03  4.200000e-03  3.800000e-03  
13         136  2.400000e-03  4.200000e-03  3.900000e-03  
14         120  3.300000e-03  4.900000e-03  4.800000e-03  
15          64  2.900000e-03  5.400000e-03  5.300000e-03  
16          72  2.900000e-03  5.400000e-03  5.300000e-03  
17          80  2.900000e-03  5.400000e-03  5.500000e-03  
18          88  2.900000e-03  5.400000e-03  5.400000e-03  
19          80  2.900000e-03  5.500000e-03  5.600000e-03  
20          88  2.900000e-03  5.500000e-03  5.600000e-03  
21         104  8.300000e-03  6.800000e-03  7.100000e-03  
22         136  6.700000e-03  1.290000e-02  1.810000e-02  
23          72  6.800000e-03  1.310000e-02  1.840000e-02  
24         128  6.700000e-03  1.310000e-02  1.830000e-02  
25          16  5.300000e-02  9.940000e-02  3.467000e-01  
26          24  5.300000e-02  9.940000e-02  3.467000e-01  
27          48  5.320000e-02  1.026000e-01  1.122000e-01  
28          56  5.500000e-02  1.032000e-01  1.120000e-01  
29          16  4.870000e-02  1.097000e-01  4.008000e-01  
..         ...           ...           ...           ...  
34         104  6.490000e-02  1.189000e-01  4.463000e-01  
35          48  1.410000e-01  1.458000e-01  6.600000e-02  
36           0  1.025000e-01  1.492000e-01  6.070000e-02  
37           8  1.025000e-01  1.492000e-01  6.070000e-02  
38          48  6.220000e-02  1.502000e-01  5.440000e-01  
39          56  6.220000e-02  1.502000e-01  5.441000e-01  
40         112  6.220000e-02  1.502000e-01  5.441000e-01  
41         120  6.220000e-02  1.502000e-01  5.442000e-01  
42          56  1.635000e-01  1.588000e-01  9.840000e-02  
43          48  4.550000e-02  3.479000e-01  1.256400e+00  
44          56  4.550000e-02  3.479000e-01  1.256500e+00  
45         112  4.560000e-02  3.487000e-01  1.259200e+00  
46         120  4.560000e-02  3.487000e-01  1.259200e+00  
47          32  1.562000e+00  1.000000e+00  1.000000e+00  
48          40  1.659800e+00  1.000900e+00  1.127100e+00  
49          32  4.471180e+06  3.768224e+06  4.675336e+06  
50          40  4.463611e+06  3.768224e+06  4.675336e+06  
51          96  4.471192e+06  3.768224e+06  4.675336e+06  
52         128  3.842274e+06  3.768224e+06  4.675336e+06  
53         120  4.472127e+06  3.768224e+06  4.675336e+06  
54          56  4.472089e+06  3.768224e+06  4.675336e+06  
55         136  4.468300e+06  3.768224e+06  4.675336e+06  
56          72  4.468407e+06  3.768224e+06  4.675336e+06  
57          48  4.471736e+06  3.768224e+06  4.675336e+06  
58         112  4.471747e+06  3.768224e+06  4.675336e+06  
59          56  4.471746e+06  3.768224e+06  4.675337e+06  
60         120  4.471754e+06  3.768224e+06  4.675337e+06  
61          48  4.472025e+06  3.768225e+06  4.675337e+06  
62         104  4.463721e+06  3.768225e+06  4.675337e+06  
63         112  4.472067e+06  3.768225e+06  4.675337e+06  

[64 rows x 6 columns]
  Transformation                                              Model  \
0         _FIN28    _FIN28_Lag1Trend_residue_zeroCycle_residue_NoAR   
1   CumSum_FIN28  CumSum_FIN28_Lag1Trend_residue_zeroCycle_resid...   
2     Diff_FIN28  Diff_FIN28_Lag1Trend_residue_zeroCycle_residue...   
3  RelDiff_FIN28  RelDiff_FIN28_Lag1Trend_residue_zeroCycle_resi...   
4   CumSum_FIN28  CumSum_FIN28_Lag1Trend_residue_bestCycle_byL2_...   

   Complexity  FitMAPE  ForecastMAPE  TestMAPE  
0          32   0.0018        0.0034    0.0032  
1          64   0.0019        0.0034    0.0032  
2          64   0.0018        0.0034    0.0032  
3          64   0.0018        0.0034    0.0032  
4          72   0.0021        0.0034    0.0032  
Traceback (most recent call last):
  File "tests/bench/test_M4_FIN28_failure.py", line 10, in <module>
    tester7.testSignals('FIN28')
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 337, in testSignals
    tester.testSignal(sig, lHorizon);
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 159, in testSignal
    self.getTestPerfs(iSignal, iHorizon);
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 233, in getTestPerfs
    self.applyModel(iSignal, iHorizon);
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 180, in applyModel
    lAutoF1 = self.pickleModel(lAutoF)
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 222, in pickleModel
    assert(iModel.to_json() == lReloadedObject.to_json())
  File "/home/antoine/dev/python/packages/pyaf/ForecastEngine.py", line 54, in to_json
    return self.mSignalDecomposition.to_json();
  File "/home/antoine/dev/python/packages/pyaf/TS/SignalDecomposition.py", line 638, in to_json
    return json.dumps(dict1, indent=4, sort_keys=True);
  File "/usr/lib/python3.5/json/__init__.py", line 237, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.5/json/encoder.py", line 200, in encode
    chunks = list(chunks)
  File "/usr/lib/python3.5/json/encoder.py", line 429, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/usr/lib/python3.5/json/encoder.py", line 403, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.5/json/encoder.py", line 403, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.5/json/encoder.py", line 403, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.5/json/encoder.py", line 436, in _iterencode
    o = _default(o)
  File "/usr/lib/python3.5/json/encoder.py", line 179, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: 328 is not JSON serializable
