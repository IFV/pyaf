INFO:pyaf.std:START_TRAINING 'FIN27'
loading  500 / 2000 FIN500
loading  1000 / 2000 FIN1000
loading  1500 / 2000 FIN1500
loading  2000 / 2000 FIN2000
BENCH_TYPE M4_COMP OneDataFramePerSignal
BENCH_DATA M4_COMP
TIME :  Date N= 3514 H= 127 HEAD= [0 1 2 3 4] TAIL= [3509 3510 3511 3512 3513]
SIGNAL :  FIN27 N= 3514 H= 127 HEAD= [ 0.844  0.845  0.845  0.843  0.84 ] TAIL= [ 2.367   2.369   2.356   2.3785  2.405 ]
   FIN27  Date
0  0.844     0
1  0.845     1
2  0.845     2
3  0.843     3
4  0.840     4
<class 'pandas.core.frame.DataFrame'>
Int64Index: 3514 entries, 0 to 3513
Data columns (total 2 columns):
FIN27    3514 non-null float64
Date     3514 non-null int64
dtypes: float64(1), int64(1)
memory usage: 82.4 KB
None
INFO:pyaf.std:END_TRAINING_TIME_IN_SECONDS 'FIN27' 8.113196611404419
INFO:pyaf.std:TIME_DETAIL TimeVariable='Date' TimeMin=0 TimeMax=2708 TimeDelta=1 Estimation = (0 , 2709) Validation = (2709 , 3387) Test = (3387 , 3514) Horizon=127
INFO:pyaf.std:SIGNAL_DETAIL SignalVariable='_FIN27' Min=0.832 Max=3.945  Mean=1.96240139442 StdDev=0.736076674727
INFO:pyaf.std:BEST_TRANSOFORMATION_TYPE '_'
INFO:pyaf.std:BEST_DECOMPOSITION  '_FIN27_Lag1Trend_residue_zeroCycle_residue_NoAR' [Lag1Trend + NoCycle + NoAR]
INFO:pyaf.std:TREND_DETAIL '_FIN27_Lag1Trend' [Lag1Trend]
INFO:pyaf.std:CYCLE_DETAIL '_FIN27_Lag1Trend_residue_zeroCycle' [NoCycle]
INFO:pyaf.std:AUTOREG_DETAIL '_FIN27_Lag1Trend_residue_zeroCycle_residue_NoAR' [NoAR]
INFO:pyaf.std:MODEL_MAPE MAPE_Fit=0.0051 MAPE_Forecast=0.006 MAPE_Test=0.0171
INFO:pyaf.std:MODEL_MASE MASE_Fit=0.9996 MASE_Forecast=1.0023 MASE_Test=0.9925
INFO:pyaf.std:MODEL_L1 L1_Fit=0.0240188062315 L1_Forecast=0.0169957998455 L1_Test=0.036588976378
INFO:pyaf.std:MODEL_L2 L2_Fit=0.0240188062315 L2_Forecast=0.0169957998455 L2_Test=0.0590433645521
INFO:pyaf.std:MODEL_COMPLEXITY 32
INFO:pyaf.std:AR_MODEL_DETAIL_START
INFO:pyaf.std:AR_MODEL_DETAIL_END
   Transformation                                              Model  \
0          _FIN27    _FIN27_Lag1Trend_residue_zeroCycle_residue_NoAR   
1          _FIN27  _FIN27_Lag1Trend_residue_bestCycle_byL2_residu...   
2    CumSum_FIN27  CumSum_FIN27_Lag1Trend_residue_zeroCycle_resid...   
3      Diff_FIN27  Diff_FIN27_Lag1Trend_residue_zeroCycle_residue...   
4   RelDiff_FIN27  RelDiff_FIN27_Lag1Trend_residue_zeroCycle_resi...   
5    CumSum_FIN27  CumSum_FIN27_Lag1Trend_residue_bestCycle_byL2_...   
6      Diff_FIN27  Diff_FIN27_Lag1Trend_residue_bestCycle_byL2_re...   
7          _FIN27  _FIN27_Lag1Trend_residue_zeroCycle_residue_AR(64)   
8          _FIN27  _FIN27_Lag1Trend_residue_bestCycle_byL2_residu...   
9          _FIN27  _FIN27_ConstantTrend_residue_zeroCycle_residue...   
10         _FIN27  _FIN27_ConstantTrend_residue_bestCycle_byL2_re...   
11         _FIN27  _FIN27_PolyTrend_residue_zeroCycle_residue_AR(64)   
12         _FIN27  _FIN27_PolyTrend_residue_bestCycle_byL2_residu...   
13         _FIN27  _FIN27_LinearTrend_residue_zeroCycle_residue_A...   
14   CumSum_FIN27  CumSum_FIN27_ConstantTrend_residue_zeroCycle_r...   
15   CumSum_FIN27  CumSum_FIN27_LinearTrend_residue_zeroCycle_res...   
16   CumSum_FIN27  CumSum_FIN27_PolyTrend_residue_zeroCycle_resid...   
17         _FIN27  _FIN27_LinearTrend_residue_bestCycle_byL2_resi...   
18   CumSum_FIN27  CumSum_FIN27_PolyTrend_residue_bestCycle_byL2_...   
19   CumSum_FIN27  CumSum_FIN27_Lag1Trend_residue_zeroCycle_resid...   
20   CumSum_FIN27  CumSum_FIN27_LinearTrend_residue_bestCycle_byL...   
21   CumSum_FIN27  CumSum_FIN27_Lag1Trend_residue_bestCycle_byL2_...   
22   CumSum_FIN27  CumSum_FIN27_ConstantTrend_residue_bestCycle_b...   
23     Diff_FIN27  Diff_FIN27_Lag1Trend_residue_zeroCycle_residue...   
24     Diff_FIN27  Diff_FIN27_Lag1Trend_residue_bestCycle_byL2_re...   
25     Diff_FIN27  Diff_FIN27_LinearTrend_residue_bestCycle_byL2_...   
26     Diff_FIN27  Diff_FIN27_LinearTrend_residue_zeroCycle_resid...   
27     Diff_FIN27  Diff_FIN27_LinearTrend_residue_bestCycle_byL2_...   
28     Diff_FIN27  Diff_FIN27_LinearTrend_residue_zeroCycle_resid...   
29   CumSum_FIN27  CumSum_FIN27_LinearTrend_residue_zeroCycle_res...   
..            ...                                                ...   
34     Diff_FIN27  Diff_FIN27_ConstantTrend_residue_zeroCycle_res...   
35     Diff_FIN27  Diff_FIN27_ConstantTrend_residue_bestCycle_byL...   
36     Diff_FIN27  Diff_FIN27_ConstantTrend_residue_zeroCycle_res...   
37         _FIN27    _FIN27_PolyTrend_residue_zeroCycle_residue_NoAR   
38         _FIN27  _FIN27_PolyTrend_residue_bestCycle_byL2_residu...   
39     Diff_FIN27  Diff_FIN27_PolyTrend_residue_bestCycle_byL2_re...   
40     Diff_FIN27  Diff_FIN27_PolyTrend_residue_zeroCycle_residue...   
41         _FIN27  _FIN27_LinearTrend_residue_zeroCycle_residue_NoAR   
42         _FIN27  _FIN27_LinearTrend_residue_bestCycle_byL2_resi...   
43     Diff_FIN27  Diff_FIN27_PolyTrend_residue_zeroCycle_residue...   
44     Diff_FIN27  Diff_FIN27_PolyTrend_residue_bestCycle_byL2_re...   
45   CumSum_FIN27  CumSum_FIN27_ConstantTrend_residue_zeroCycle_r...   
46   CumSum_FIN27  CumSum_FIN27_ConstantTrend_residue_bestCycle_b...   
47   CumSum_FIN27  CumSum_FIN27_PolyTrend_residue_zeroCycle_resid...   
48   CumSum_FIN27  CumSum_FIN27_PolyTrend_residue_bestCycle_byL2_...   
49  RelDiff_FIN27  RelDiff_FIN27_ConstantTrend_residue_zeroCycle_...   
50  RelDiff_FIN27  RelDiff_FIN27_ConstantTrend_residue_bestCycle_...   
51  RelDiff_FIN27  RelDiff_FIN27_ConstantTrend_residue_zeroCycle_...   
52  RelDiff_FIN27  RelDiff_FIN27_ConstantTrend_residue_bestCycle_...   
53  RelDiff_FIN27  RelDiff_FIN27_PolyTrend_residue_zeroCycle_resi...   
54  RelDiff_FIN27  RelDiff_FIN27_PolyTrend_residue_bestCycle_byL2...   
55  RelDiff_FIN27  RelDiff_FIN27_Lag1Trend_residue_zeroCycle_resi...   
56  RelDiff_FIN27  RelDiff_FIN27_LinearTrend_residue_bestCycle_by...   
57  RelDiff_FIN27  RelDiff_FIN27_LinearTrend_residue_bestCycle_by...   
58  RelDiff_FIN27  RelDiff_FIN27_Lag1Trend_residue_bestCycle_byL2...   
59  RelDiff_FIN27  RelDiff_FIN27_Lag1Trend_residue_bestCycle_byL2...   
60  RelDiff_FIN27  RelDiff_FIN27_LinearTrend_residue_zeroCycle_re...   
61  RelDiff_FIN27  RelDiff_FIN27_LinearTrend_residue_zeroCycle_re...   
62  RelDiff_FIN27  RelDiff_FIN27_PolyTrend_residue_zeroCycle_resi...   
63  RelDiff_FIN27  RelDiff_FIN27_PolyTrend_residue_bestCycle_byL2...   

    Complexity      FitMAPE  ForecastMAPE     TestMAPE  
0           32       0.0051        0.0060       0.0171  
1           40       0.0053        0.0060       0.0170  
2           64       0.0055        0.0060       0.0171  
3           64       0.0051        0.0060       0.0171  
4           64       0.0051        0.0060       0.0171  
5           72       0.0069        0.0061       0.0170  
6           72       0.0056        0.0061       0.0180  
7           96       0.0051        0.0061       0.0173  
8          104       0.0053        0.0061       0.0172  
9           64       0.0056        0.0063       0.0170  
10          72       0.0058        0.0064       0.0169  
11          80       0.0056        0.0064       0.0171  
12          88       0.0056        0.0064       0.0171  
13          80       0.0055        0.0070       0.0171  
14          96       0.0070        0.0071       0.0189  
15         112       0.0073        0.0071       0.0193  
16         112       0.0062        0.0071       0.0184  
17          88       0.0061        0.0072       0.0173  
18         120       0.0087        0.0074       0.0199  
19         128       0.0073        0.0076       0.0222  
20         120       0.0102        0.0077       0.0198  
21         136       0.0079        0.0077       0.0221  
22         104       0.0152        0.0087       0.0277  
23         128       0.0071        0.0089       0.0229  
24         136       0.0091        0.0092       0.0230  
25         120       0.2005        0.0357       0.1394  
26         112       0.2001        0.0359       0.1394  
27          56       0.2381        0.0418       0.1588  
28          48       0.2380        0.0420       0.1588  
29          48       0.7454        0.0932       0.1654  
..         ...          ...           ...          ...  
34          96       0.1559        0.1772       0.3129  
35          40       0.1861        0.2149       0.3879  
36          32       0.1859        0.2155       0.3887  
37          16       0.1215        0.2890       0.2054  
38          24       0.1215        0.2890       0.2054  
39         120       0.0794        0.7700       2.2872  
40         112       0.0795        0.7701       2.2887  
41          16       0.1292        0.8002       1.0990  
42          24       0.1292        0.8002       1.0991  
43          48       0.0884        0.8577       2.5482  
44          56       0.0883        0.8583       2.5490  
45          32       1.8999        1.0000       1.0000  
46          40       2.3109        1.0482       1.1086  
47          48       0.1441        1.2467       1.7566  
48          56       0.1748        1.2467       1.7564  
49          32  748020.6557   602916.4715  638823.4753  
50          40  742264.7616   602916.4715  638823.4753  
51          96  748026.7514   602916.4715  638823.4753  
52         104  742265.4221   602916.4715  638823.4753  
53         112  749103.6793   602916.4715  638823.4753  
54         120  749105.8141   602916.4715  638823.4753  
55         128  732729.9209   602916.4715  638823.4753  
56          56  748843.8170   602916.9369  638823.9225  
57         120  748950.8635   602916.9369  638823.9225  
58         136  744844.5018   602916.9369  638823.9225  
59          72  746928.2196   602917.0521  638824.0429  
60          48  748908.8281   602917.0534  638824.0276  
61         112  749028.7285   602917.0535  638824.0372  
62          48  749064.2503   602917.6354  638824.5895  
63          56  749070.2235   602917.6354  638824.5895  

[64 rows x 6 columns]
  Transformation                                              Model  \
0         _FIN27    _FIN27_Lag1Trend_residue_zeroCycle_residue_NoAR   
1         _FIN27  _FIN27_Lag1Trend_residue_bestCycle_byL2_residu...   
2   CumSum_FIN27  CumSum_FIN27_Lag1Trend_residue_zeroCycle_resid...   
3     Diff_FIN27  Diff_FIN27_Lag1Trend_residue_zeroCycle_residue...   
4  RelDiff_FIN27  RelDiff_FIN27_Lag1Trend_residue_zeroCycle_resi...   

   Complexity  FitMAPE  ForecastMAPE  TestMAPE  
0          32   0.0051         0.006    0.0171  
1          40   0.0053         0.006    0.0170  
2          64   0.0055         0.006    0.0171  
3          64   0.0051         0.006    0.0171  
4          64   0.0051         0.006    0.0171  
Traceback (most recent call last):
  File "tests/bench/test_M4_FIN27_failure.py", line 10, in <module>
    tester7.testSignals('FIN27')
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 337, in testSignals
    tester.testSignal(sig, lHorizon);
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 159, in testSignal
    self.getTestPerfs(iSignal, iHorizon);
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 233, in getTestPerfs
    self.applyModel(iSignal, iHorizon);
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 180, in applyModel
    lAutoF1 = self.pickleModel(lAutoF)
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 222, in pickleModel
    assert(iModel.to_json() == lReloadedObject.to_json())
  File "/home/antoine/dev/python/packages/pyaf/ForecastEngine.py", line 54, in to_json
    return self.mSignalDecomposition.to_json();
  File "/home/antoine/dev/python/packages/pyaf/TS/SignalDecomposition.py", line 638, in to_json
    return json.dumps(dict1, indent=4, sort_keys=True);
  File "/usr/lib/python3.5/json/__init__.py", line 237, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.5/json/encoder.py", line 200, in encode
    chunks = list(chunks)
  File "/usr/lib/python3.5/json/encoder.py", line 429, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/usr/lib/python3.5/json/encoder.py", line 403, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.5/json/encoder.py", line 403, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.5/json/encoder.py", line 403, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.5/json/encoder.py", line 436, in _iterencode
    o = _default(o)
  File "/usr/lib/python3.5/json/encoder.py", line 179, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: 127 is not JSON serializable
