INFO:pyaf.std:START_TRAINING 'AirPassengers'
ESTIMATE_RNN_MODEL_START _AirPassengers_ConstantTrend_residue_zeroCycle_residue
Using TensorFlow backend.
multiprocess.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/multiprocess/pool.py", line 119, in worker
    result = (True, func(*args, **kwds))
  File "/usr/local/lib/python3.5/dist-packages/pathos/helpers/mp_helper.py", line 14, in <lambda>
    func = lambda args: f(*args)
  File "/home/antoine/dev/python/packages/pyaf/TS/SignalDecomposition.py", line 289, in run_transform_thread
    arg.mSigDec.train(arg.mInputDS, arg.mTime, arg.mSignal, arg.mHorizon, arg.mTransformation);
  File "/home/antoine/dev/python/packages/pyaf/TS/SignalDecomposition.py", line 265, in train
    self.mAREstimator.estimate();
  File "/home/antoine/dev/python/packages/pyaf/TS/SignalDecomposition_AR.py", line 288, in estimate
    self.estimate_ar_models_for_cycle(cycle_residue);
  File "/home/antoine/dev/python/packages/pyaf/TS/SignalDecomposition_AR.py", line 230, in estimate_ar_models_for_cycle
    autoreg.fit();
  File "/home/antoine/dev/python/packages/pyaf/TS/Keras_Models.py", line 32, in fit
    self.build_RNN_Architecture();
  File "/home/antoine/dev/python/packages/pyaf/TS/Keras_Models.py", line 172, in build_RNN_Architecture
    lModel = self.build_RNN_Architecture_template();
  File "/home/antoine/dev/python/packages/pyaf/TS/Keras_Models.py", line 195, in build_RNN_Architecture_template
    lModel.add(LSTM(self.mHiddenUnits, input_dim=self.mNbLags))
  File "/usr/lib/python3/dist-packages/keras/models.py", line 275, in add
    layer.create_input_layer(batch_input_shape, input_dtype)
  File "/usr/lib/python3/dist-packages/keras/engine/topology.py", line 367, in create_input_layer
    self(x)
  File "/usr/lib/python3/dist-packages/keras/engine/topology.py", line 511, in __call__
    self.add_inbound_node(inbound_layers, node_indices, tensor_indices)
  File "/usr/lib/python3/dist-packages/keras/engine/topology.py", line 569, in add_inbound_node
    Node.create_node(self, inbound_layers, node_indices, tensor_indices)
  File "/usr/lib/python3/dist-packages/keras/engine/topology.py", line 150, in create_node
    output_tensors = to_list(outbound_layer.call(input_tensors[0], mask=input_masks[0]))
  File "/usr/lib/python3/dist-packages/keras/layers/recurrent.py", line 222, in call
    ': ' + str(input_shape))
Exception: When using TensorFlow, you should define explicitly the number of timesteps of your sequences.
If your first layer is an Embedding, make sure to pass it an "input_length" argument. Otherwise, make sure the first layer has an "input_shape" or "batch_input_shape" argument, including the time axis. Found input shape at layer lstm_1: (None, None, 7)
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "tests/neuralnet/test_air_passengers_tensorflow.py", line 45, in <module>
    lEngine.train(df , b1.mTimeVar , b1.mSignalVar, H);
  File "/home/antoine/dev/python/packages/pyaf/ForecastEngine.py", line 26, in train
    self.mSignalDecomposition.train(iInputDS, iTime, iSignal, iHorizon, iExogenousData);
  File "/home/antoine/dev/python/packages/pyaf/TS/SignalDecomposition.py", line 453, in train
    self.train_multiprocessed(iInputDS, iTime, iSignal, iHorizon);
  File "/home/antoine/dev/python/packages/pyaf/TS/SignalDecomposition.py", line 379, in train_multiprocessed
    for res in pool.imap(run_transform_thread, args):
  File "/usr/local/lib/python3.5/dist-packages/multiprocess/pool.py", line 695, in next
    raise value
Exception: When using TensorFlow, you should define explicitly the number of timesteps of your sequences.
If your first layer is an Embedding, make sure to pass it an "input_length" argument. Otherwise, make sure the first layer has an "input_shape" or "batch_input_shape" argument, including the time axis. Found input shape at layer lstm_1: (None, None, 7)
Command exited with non-zero status 1
4.42user 0.28system 0:06.14elapsed 76%CPU (0avgtext+0avgdata 146616maxresident)k
0inputs+32outputs (0major+67760minor)pagefaults 0swaps
